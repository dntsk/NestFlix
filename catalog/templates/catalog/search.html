{% extends 'catalog/base.html' %}

{% block title %}Search Movies{% endblock %}

{% block content %}
<style>
input[type="text"] {
    height: 2rem;
    font-size: 0.875rem;
    padding: 0.25rem 0.5rem;
}
</style>
<h1>Search Movies</h1>
<form hx-get="{% url 'catalog:movie_search' %}" hx-target="#search-results" hx-trigger="input delay:500ms">
    {% csrf_token %}
    <input type="text" name="query" placeholder="Start typing a movie title..." />
</form>
<div id="search-results">
    <div hx-indicator="#indicator" style="display:none; color: var(--muted); text-align: center; padding: 1rem;">Searching...</div>
</div>
<div id="indicator" style="display:none;"></div>
<script>
document.addEventListener('DOMContentLoaded', function() {
    console.log('HTMX version:', htmx.version);
    htmx.on('htmx:beforeRequest', function(evt) {
        console.log('HTMX request:', evt.detail.requestConfig);
    });
});
</script>
{% endblock %}
